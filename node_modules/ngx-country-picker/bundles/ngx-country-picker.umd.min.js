!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-country-picker",["exports","@angular/core","@angular/common/http","@angular/common","rxjs","rxjs/operators"],t):t((e=e||self)["ngx-country-picker"]={},e.ng.core,e.ng.common.http,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,n,o,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function s(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function a(e,t){return function(r,n){t(r,n,e)}}var c=new t.InjectionToken("countrypicker.config"),u={baseUrl:"assets/",filename:"countries.json"},l=function(){function e(e,t){this._http=t,this._data=null,this._baseUrl=e.baseUrl,this._filename=e.filename,this._data=this._loadData()}var n;return n=e,e.handleError=function(e){var t;if(e instanceof r.HttpResponse)if(404===e.status)t="Error loading countries.json file. Please configure WebPack and load countries.json assets to your root folder";else{var n=e.body||"",i=n.error||JSON.stringify(n);t=e.status+" - "+(e.statusText||"")+" "+i}else t=e.message?e.message:e.toString();return console.error(t),o.throwError(t)},e.prototype.getCountries=function(){return this._data.pipe(i.map((function(e){return e.map((function(e){return e.name.native[0]=e.name.native[Object.keys(e.name.native)[0]],e}))})))},e.prototype.getBaseUrl=function(){return this._baseUrl},e.prototype._loadData=function(){return this._http.get(this._baseUrl+this._filename).pipe(i.catchError(n.handleError))},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[c]}]},{type:r.HttpClient}]},e=n=s([t.Injectable(),a(0,t.Inject(c))],e)}(),p=function(){function e(e,t){this._countryPickerService=e,this._cdr=t,this.flag=!1,this.setValue="cca3",this.setName="name.common",this.classes=["form-control","form-control-sm"],this.countries=[],this.baseUrl=e.getBaseUrl()+"data/"}return e.prototype.ngOnInit=function(){var e=this;this._countryPickerService.getCountries().subscribe((function(t){e.countries=t.sort((function(t,r){var n=e.getName(t),o=e.getName(r);return n>o?1:n<o?-1:0})),e._cdr.markForCheck()}))},e.prototype.getValue=function(e){return this.setValue.split(".").reduce((function(e,t){return e[t]}),e)},e.prototype.getName=function(e){return this.setName.split(".").reduce((function(e,t){return e[t]}),e)},e.ctorParameters=function(){return[{type:l},{type:t.ChangeDetectorRef}]},s([t.Input()],e.prototype,"flag",void 0),s([t.Input()],e.prototype,"setValue",void 0),s([t.Input()],e.prototype,"setName",void 0),s([t.Input()],e.prototype,"classes",void 0),e=s([t.Component({selector:"country-picker",template:'\n      <select [class]="classes">\n          <option *ngFor="let c of countries" [value]="getValue(c)">\n              <img *ngIf="flag" [src]="baseUrl + c.cca3.toLowerCase() + \'.svg\'">{{ getName(c) }}\n          </option>\n      </select>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush})],e)}();function f(e,t){return new l(e,t)}var d=function(){function e(e){if(e)throw new Error("CountryPickerModule is already loaded. Import it in the AppModule only")}var o;return o=e,e.forRoot=function(e){return void 0===e&&(e=u),{ngModule:o,providers:[{provide:c,useValue:e},{provide:l,useFactory:f,deps:[c,r.HttpClient]}]}},e.ctorParameters=function(){return[{type:e,decorators:[{type:t.Optional},{type:t.SkipSelf}]}]},e=o=s([t.NgModule({imports:[n.CommonModule,r.HttpClientModule],declarations:[p],exports:[p]}),a(0,t.Optional()),a(0,t.SkipSelf())],e)}();e.COUNTRY_PICKER_CONFIG=c,e.COUNTRY_PICKER_CONFIG_DEFAULT=u,e.CountryPickerComponent=p,e.CountryPickerModule=d,e.CountryPickerService=l,e.Éµa=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-country-picker.umd.min.js.map